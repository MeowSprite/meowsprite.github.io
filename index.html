<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body,
        html,
        #allmap {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
            font-family: "微软雅黑";
        }
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?type=webgl&v=1.0&ak=vfXulgbCrbDSHhRdwds45xKKnndi8oZD"></script>
    <title>地图展示</title>
</head>

<body>
    <div id="allmap"></div>
</body>

</html>
<script type="text/javascript">
    var gcj02tobd09 = function gcj02tobd09(lng, lat) {
        var x_PI = 3.14159265358979324 * 3000.0 / 180.0;
        var PI = 3.1415926535897932384626;
        var a = 6378245.0;
        var ee = 0.00669342162296594323;
        var lat = +lat;
        var lng = +lng;
        var z = Math.sqrt(lng * lng + lat * lat) + 0.00002 * Math.sin(lat * x_PI);
        var theta = Math.atan2(lat, lng) + 0.000003 * Math.cos(lng * x_PI);
        var bd_lng = z * Math.cos(theta) + 0.0065;
        var bd_lat = z * Math.sin(theta) + 0.006;
        return [bd_lng, bd_lat]
    };

    var point_list = [
        [31.204241,121.231998],
        [31.230318,121.229419],
        [31.230883,121.231801],
        [31.231141,121.229898],
        [31.147333,121.134724],
        [31.145841,121.111782],
        [31.149579,121.107029],
        [31.150277,121.113651],
        [31.174017,121.276297],
        [31.173432,121.276199],
        [31.158536,121.192236],
        [31.103974,121.050749],
        [30.946424,121.646794],
        [30.905867,121.643607],
        [30.905991,121.640921],
        [30.906129,121.652721],
        [30.910942,121.638582],
        [30.940246,121.461186],
        [30.938199,121.451935],
        [30.893133,121.739015],
        [30.895517,121.738727],
        [30.897441,121.722175],
        [30.837691,121.508098],
        [30.831185,121.526942],
        [30.828935,121.509723],
        [30.861053,121.565061],
        [30.835105,121.523835],
        [30.827926,121.527353],
        [30.907571,121.471361],
        [30.982846,121.564232],
        [30.989689,121.502937],
        [30.916739,121.458179],
        [30.907925,121.447231],
        [30.906086,121.456363],
        [30.906367,121.456504],
        [30.922741,121.582401],
        [30.924276,121.582513],
        [30.924523,121.582799],
        [30.907521,121.478006],
        [31.016364,121.409051],
        [31.038589,121.450826],
        [31.011135,121.434225],
        [31.126875,121.405093],
        [31.123121,121.419729],
        [31.124228,121.420884],
        [31.182185,121.364006],
        [31.172696,121.364786],
        [31.062897,121.538166],
        [31.023501,121.373788],
        [31.083461,121.504431],
        [31.067826,121.521946],
        [31.060254,121.514801],
        [31.026476,121.519281],
        [31.083141,121.504973],
        [31.077243,121.497426],
        [31.093406,121.492141],
        [31.145461,121.356941],
        [31.096919,121.410289],
        [31.127627,121.374344],
        [31.094492,121.375276],
        [31.092277,121.418335],
        [31.137561,121.387202],
        [31.152376,121.401793],
        [31.040958,121.460488],
        [31.042278,121.461911],
        [31.040885,121.451091],
        [31.082401,121.413071],
        [31.226389,121.524096],
        [31.173513,121.553163],
        [31.243331,121.676882],
        [31.280074,121.669274],
        [31.2972,121.66214],
        [31.185633,121.698177],
        [31.180456,121.693326],
        [31.190606,121.705531],
        [31.198627,121.688602],
        [31.188465,121.686361],
        [31.188888,121.687457],
        [31.186235,121.706615],
        [31.198621,121.688642],
        [30.866541,121.849958],
        [30.977976,121.873453],
        [30.927725,121.867955],
        [30.984975,121.867214],
        [30.911435,121.801381],
        [30.955202,121.810814],
        [30.955642,121.810882],
        [30.905864,121.815316],
        [31.116047,121.697085],
        [31.202469,121.656245],
        [31.176113,121.631291],
        [31.079907,121.608374],
        [31.069501,121.597169],
        [31.111908,121.653434],
        [31.022037,121.700223],
        [31.073221,121.641916],
        [31.168391,121.686327],
        [31.281303,121.598901],
        [31.296058,121.613272],
        [31.031945,121.589921],
        [31.027888,121.596448],
        [31.026482,121.596942],
        [31.027385,121.597051],
        [31.235253,121.719614],
        [31.235422,121.717712],
        [31.200244,121.536124],
        [31.195639,121.565014],
        [31.056264,121.765614],
        [31.051442,121.762649],
        [31.022694,121.703779],
        [31.044622,121.768644],
        [31.049526,121.769156],
        [31.036497,121.738927],
        [31.042051,121.755731],
        [31.056075,121.768772],
        [31.024362,121.739942],
        [31.044911,121.745608],
        [31.028888,121.715188],
        [31.063011,121.737515],
        [31.060107,121.713312],
        [31.048995,121.773372],
        [31.171571,121.740021],
        [31.157648,121.716788],
        [31.172068,121.740027],
        [31.256155,121.596035],
        [31.272141,121.603589],
        [31.256094,121.596064],
        [31.251559,121.600503],
        [31.268259,121.608375],
        [31.246571,121.571271],
        [31.248558,121.583554],
        [31.240365,121.569654],
        [31.251835,121.567265],
        [31.121111,121.581281],
        [31.114331,121.570713],
        [31.135798,121.583176],
        [31.118199,121.570434],
        [31.149418,121.573069],
        [31.138644,121.607814],
        [31.100637,121.582567],
        [31.137648,121.566938],
        [31.143808,121.623019],
        [31.102713,121.610451],
        [31.118229,121.575161],
        [31.106631,121.588469],
        [31.137661,121.602851],
        [31.120861,121.578913],
        [31.127071,121.574151],
        [31.119365,121.579077],
        [31.118197,121.578437],
        [31.227001,121.517469],
        [31.228566,121.518899],
        [30.893393,121.906038],
        [30.898743,121.925121],
        [30.884365,121.920436],
        [30.899209,121.826506],
        [31.119355,121.550999],
        [31.037837,121.839137],
        [31.142902,121.749542],
        [31.174971,121.752313],
        [30.962473,121.746127],
        [30.972358,121.742056],
        [30.973881,121.752621],
        [30.968481,121.739081],
        [30.972216,121.742037],
        [31.157479,121.502306],
        [31.139211,121.497152],
        [31.226242,121.528217],
        [31.226242,121.528217],
        [31.228197,121.523842],
        [31.222542,121.525043],
        [31.336229,121.585789],
        [31.350561,121.566887],
        [31.028158,121.651928],
        [31.028211,121.654549],
        [31.019761,121.640464],
        [31.023782,121.647462],
        [31.242949,121.543509],
        [31.243472,121.546922],
        [31.18855,121.59478],
        [31.17903,121.609748],
        [31.199329,121.613159],
        [31.108711,121.767263],
        [31.113872,121.761137],
        [31.086987,121.758661],
        [31.087341,121.761991]
    ]

    // GL版命名空间为BMapGL
    // 按住鼠标右键，修改倾斜角和角度
    var map = new BMapGL.Map("allmap");    // 创建Map实例
    map.centerAndZoom(new BMapGL.Point(121.524096, 31.226389), 14);  // 初始化地图,设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

    var x = 0
    var y = 0
    for (let i = 0; i < point_list.length; i++) {
        // 遍历数组，对每个元素进行操作
        // console.log(point_list[i]);
        var bd09_info = gcj02tobd09(point_list[i][1], point_list[i][0])
        var point = new BMapGL.Point(bd09_info[0], bd09_info[1]);
        var marker = new BMapGL.Marker(point);
        //var label = new BMapGL.Label("正确坐标", { offset: new BMapGL.Size(20, -10) });
        //marker.setLabel(label);
        map.addOverlay(marker);
        x += bd09_info[0]
        y += bd09_info[1]
    };
    map.centerAndZoom(new BMapGL.Point(x/point_list.length, y/point_list.length), 14);

    var zoomCtrl = new BMapGL.ZoomControl();
    map.addControl(zoomCtrl);

    new BMapGL.searchBoundary

    var dist = new BMapGL.DistrictLayer({
        name: '(江苏省)',
        kind: 1,
        fillColor: '#618bf8',
        strokeColor: '#daeafa',
        viewport: true
    });
    map.addDistrictLayer(dist);
</script>
